<!DOCTYPE html>
<html>

<head>
    <title>Canvasサンプル</title>
    <meta charset="UTF-8">
</head>

<body style="background-color:rgb(237, 247, 255)">
    <h1>Canvasテストサンプル</h1>
    <canvas id="canvas" width=1024 height=768></canvas>
    <script type="text/javascript">
        let canvas = document.getElementById("canvas");
        let context = canvas.getContext("2d");
        let timerID;


        //文字のスタイルを指定
        context.font = '32px serif';
        context.fillStyle = '#404040';
        context.textBaseline = 'center';
        context.textAlign = 'center';

        array = [
            { text: "ああああああ", width: context.measureText("ああああああ").width, x: 1024, y: 300, speed: 5, play: true },
            { text: "AAAAAAAA", width: context.measureText("AAAAAAAA").width, x: 1024, y: 400, speed: 3, play: true },
        ];

        array.forEach((v)=> {alert(v)});

        function draw(index) {
            context.fillText(array[index].text, array[index].x, array[index].y);

            array[index].x -= array[index].speed;
            if (array[index].x < -1 * array[index].width) {
                //clearInterval(timerID);
                delete(array[index]);
            }
        }

        timerID = setInterval(() => {
            context.clearRect(0, 0, canvas.width, canvas.height);
            draw(0);
            draw(1);
        }, 20);

    </script>
</body>

</html>
